"use strict";function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var FLOJO=function(){var b=1,d=2,e=3,g=function a(b,c,d,e,f,g){_classCallCheck(this,a),this.id=b,this.type=c,this.start=d,this.when=e,this.func=f,this.param=g},h=function(a){function b(a,c,d,e,f,g,h,i){_classCallCheck(this,b);var j=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,e,f,h,i));return j.interval=d,j.count=g,j}return _inherits(b,a),b}(g),i=function(a){function b(a,c,d,e,f,g,h){_classCallCheck(this,b);var i=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,e,f,g,h));return i.interval=d,i}return _inherits(b,a),b}(g),j=[],k=0,l=!1,m=null,n=!1,o=function(){return p(),k++},p=function(){null===m&&(m=requestAnimationFrame(q),l=!0)},q=function a(){s(),t(),j.length?requestAnimationFrame(a):(m=null,k=0)},r=function(b){return(new Date).getTime()+b},s=function(){j.forEach(function(a,c){if(null!=a&&a.when-(new Date).getTime()<0)switch(a.func(a.param),a.type){case b:j[c]=null;break;case d:if(--a.count>0){(new Date).getTime(),a.interval;a.when=r(a.interval)}else j[c]=null;break;case e:(new Date).getTime(),a.interval;a.when=r(a.interval)}})},t=function(){for(var b=[],c=0;c<j.length;c++)null!=j[c]&&b.push(j[c]);j=b},u=function(b){if(0==j.length)return!1;j.forEach(function(a,c){if(null!=a&&a.id==b)return j[c]=null,n&&console.log("task killed: "+b),!0}),t()},v=function(b){return j.find(function(a){return a.id==b})};return{timed:function(c,d,e){if(c<0)throw new Error("'when' needs to be positive for timed");var h=new g(o(),b,(new Date).getTime(),(new Date).getTime()+c,d,e);return j.push(h),n&&console.log("added: "+w+" f: "+f),h.id},after:function(c,d,e,f){if(d<0)throw new Error("'when' needs to be positive for after");var h=new g(o(),b,(new Date).getTime(),v(c).when+d,e,f);return j.push(h),h.id},counted:function(b,e,g,i){if(b<0)throw new Error("'when' needs to be positive for counted");if(e<0)throw new Error("'count' needs to be positive");var k=new h(o(),d,b,(new Date).getTime(),(new Date).getTime()+b,e,g,i);return j.push(k),n&&console.log("added Counted: "+w+" f: "+f+" C: "+c),k.id},infinite:function(b,c,d){if(b<0)throw new Error("'when' needs to be positive for infinite");var g=new i(o(),e,b,(new Date).getTime(),(new Date).getTime()+b,c,d);return j.push(g),n&&console.log("added Infinite: "+w+" f: "+f),g.id},remove:function(b){if(n&&console.log("Killing task "+b),0==u(b))throw new Error("task id: "+b+" cannot be found")},waitFor:function(b,c,d,e){var f=e;this.infinite(1e3,function(){b[c]==d&&f()})}}}(),F=function(b){var c=function(b){return-1!=b.indexOf("#")?[document.getElementById(b.substr(1))]:-1!=b.indexOf(".")?document.querySelectorAll(b):document.getElementsByTagName(b)};return{addClass:function(d){for(var e=c(b),f=0;f<e.length;f++){var g=e[f];g.classList?g.classList.add(d):g.className+=" "+d}},removeClass:function(d){for(var e=c(b),f=0;f<e.length;f++){var g=e[f];g.classList?g.classList.remove(d):g.classList=g.classList.replace(new RegExp("(^|\\b)"+d.split(" ").join("|")+"(\\b|$)","gi")," ")}},hide:function(){el.style.display="none"},show:function(){el.style.display=""},remove:function(){el.parentNode.removeChild(el)},hasClass:function(b){el.classList?el.classList.contains(b):new RegExp("(^| )"+b+"( |$)","gi").test(el.c)},opacity:function(d){c(b).forEach(function(a){a.style.opacity=d})},fadeOut:function(d){for(var f=(c(b),Math.round(d/60)),g=0;g<f;g++)FLOJO.timed(100,function(){console.log("k "+g/f)})},fadeIn:function(b){}}};